<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>SCP Foundation</title>
  <style>
    body {
      background: #0d0d0d;
      color: #f5f5f5;
      font-family: Segoe UI, Arial, sans-serif;
      display: flex;
      height: 100vh;
      margin: 0;
    }

    /* Боковая панель */
    #sidebar {
      width: 260px;
      background: linear-gradient(180deg, #161616, #0d0d0d);
      padding: 20px;
      border-right: 2px solid #1e1e1e;
      overflow-y: auto;
      box-shadow: 4px 0 12px rgba(0,0,0,0.5);
    }
    #sidebar h3 {
      margin: 0 0 12px;
      font-size: 18px;
      border-bottom: 1px solid #333;
      padding-bottom: 6px;
      color: #ff5555;
      letter-spacing: 1px;
    }
    #search {
      background: #111;
      border: 1px solid #333;
      border-radius: 6px;
      padding: 8px;
      color: #fff;
      width: 100%;
    }
    #search:focus {
      border-color: #ff5555;
      box-shadow: 0 0 8px #ff555580;
      outline: none;
    }

    .scp-entry {
      display: block;
      padding: 8px;
      margin: 6px 0;
      border-radius: 6px;
      color: #ccc;
      text-decoration: none;
      transition: all 0.2s ease;
    }
    .scp-entry:hover {
      background: #222;
      color: #ff5555;
      transform: translateX(4px);
    }

    /* Контент */
    #content {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }
    h1 {
      margin: 0 0 20px;
      font-size: 28px;
      color: #e0e0e0;
      display: flex;
      align-items: center;
    }
    #logo {
      width: 36px;
      height: 36px;
      margin-right: 10px;
    }

    /* Карточки */
    .panel, #userInfo {
      background: #1a1a1a;
      padding: 20px;
      border-radius: 14px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.4);
      margin-bottom: 24px;
      border: 1px solid #2a2a2a;
      transition: all 0.3s ease;
    }
    .panel:hover {
      border-color: #ff5555;
      box-shadow: 0 0 12px #ff555580;
    }
    .panel h3 {
      margin-top: 0;
      font-size: 18px;
      color: #ff5555;
      border-bottom: 1px solid #333;
      padding-bottom: 6px;
      margin-bottom: 14px;
    }

    /* Формы */
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #333;
      border-radius: 8px;
      background: #111;
      color: #eee;
      transition: all 0.2s;
    }
    input:focus, select:focus, textarea:focus {
      border-color: #ff5555;
      box-shadow: 0 0 6px #ff555580;
      outline: none;
    }

    /* Кнопки */
    button {
      width: 100%;
      padding: 10px;
      border: 0;
      border-radius: 8px;
      background: linear-gradient(90deg, #ff5555, #e53935);
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.25s;
      margin-top: 8px;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(229,57,53,0.5);
    }
    #logoutBtn {
      background: #444;
    }
    #logoutBtn:hover {
      background: #666;
      box-shadow: none;
    }

    /* Статистика */
    #userStats {
      background: #111;
      padding: 12px;
      border-radius: 8px;
      margin-top: 12px;
      font-size: 14px;
      line-height: 1.5;
      border: 1px solid #2a2a2a;
    }
  </style>
</head>
<body>
  <div id="sidebar">
    <h3>Поиск SCP</h3>
    <input type="text" id="search" placeholder="Поиск...">
    <div id="entries">Нет SCP записей</div>
  </div>

  <div id="content">
    <h1><img id="logo" src="logo.png" alt="">SCP Foundation</h1>

    <div id="userInfo"></div>
    <button id="logoutBtn" onclick="logout()">Выйти</button>

    <!-- Админ-панель -->
    <div id="adminPanel" class="panel" style="display:none;">
      <h3>Административная панель</h3>
      <input type="text" id="targetNick" placeholder="Ник пользователя">

      <label>Новый уровень:</label>
      <select id="newLevel">
        <option value="0">Level 0</option>
        <option value="1">Level 1</option>
        <option value="2">Level 2</option>
        <option value="3">Level 3</option>
        <option value="4">Level 4</option>
        <option value="5">Level 5</option>
        <option value="6">Level Omni</option>
      </select>

      <label>Роль:</label>
      <select id="newRole" onchange="toggleUnits()">
        <option value="Класс-Д">Класс-Д</option>
        <option value="Группа Быстрого Реагирования">Группа Быстрого Реагирования</option>
        <option value="Медицинский Департамент">Медицинский Департамент</option>
        <option value="Служба Разведки">Служба Разведки</option>
        <option value="Инжинерно-Техническая Служба">Инжинерно-Техническая Служба</option>
        <option value="Отдел Внешних Связей">Отдел Внешних Связей</option>
        <option value="Служба Внутреннего Трибунала">Служба Внутреннего Трибунала</option>
        <option value="Комитет по Этике">Комитет по Этике</option>
        <option value="Отдел Внутренней Безопасности">Отдел Внутренней Безопасности</option>
        <option value="Научный Департамент Специализированных Исследований">Научный Департамент Специализированных Исследований</option>
        <option value="Служба Безопасности">Служба Безопасности</option>
        <option value="Мобильные Оперативные Группы">Мобильные Оперативные Группы</option>
        <option value="Административный Департамент">Административный Департамент</option>
        <option value="O5">Член Совета O5</option>
        <option value="The Administrator">The Administrator</option>
        <option value="Office of The Administrator">Office of The Administrator</option>
      </select>

      <!-- Подклассы/подразделения -->
      <div id="unitDiv" style="display:none;">
        <label>Подразделение:</label>
        <select id="newUnit"></select>
      </div>

      <label>Сайт:</label>
      <select id="newSite">
        <option value="Site-01">Site-01</option>
        <option value="Site-17">Site-17</option>
        <option value="Site-82">Site-82</option>
        <option value="Site-██">Site-██</option>
      </select>

      <button onclick="updateUser()">Обновить</button>
    </div>

    <!-- Просмотр статистики -->
    <div id="statsPanel" class="panel" style="display:none;">
      <h3>Просмотр статистики пользователя</h3>
      <input type="text" id="statsNick" placeholder="Ник пользователя">
      <button onclick="showStats()">Показать статистику</button>
      <div id="userStats"></div>
    </div>

    <!-- Добавление SCP -->
    <div id="addScpPanel" class="panel" style="display:none;">
      <h3>Добавить SCP</h3>
      <input type="text" id="scpTitle" placeholder="Название SCP">
      <input type="number" id="scpLevel" placeholder="Требуемый уровень">
      <textarea id="scpContent" placeholder="Описание"></textarea>
      <button onclick="addScp()">Добавить</button>
    </div>
  </div>

  <script type="module">
    // ⚡️ Тут идёт твоя логика на JS (Firebase datastore, авторизация, проверка ролей и уровней)
    // Важно: нужно прописать toggleUnits() чтобы показывало подразделения только для нужных ролей

    const units = {
      "Класс-Д": ["Испытуемый", "Старший испытуемый"],
      "Группа Быстрого Реагирования": ["Новобранец", "Оператор", "Командир"],
      "Медицинский Департамент": ["Интерн", "Врач", "Главврач"],
      "Служба Разведки": ["Агент", "Старший агент"],
      "Инжинерно-Техническая Служба": ["Техник", "Инженер"],
      "Научный Департамент Специализированных Исследований": ["Jr. Researcher", "Researcher", "Sr. Researcher"],
      "O5": ["O5-1","O5-2","O5-3","O5-4","O5-5","O5-6","O5-7","O5-8","O5-9","O5-10","O5-11","O5-12","O5-13"]
    };

    function toggleUnits() {
      const role = document.getElementById("newRole").value;
      const unitDiv = document.getElementById("unitDiv");
      const unitSelect = document.getElementById("newUnit");
      unitSelect.innerHTML = "";

      if (role === "The Administrator" || role === "Office of The Administrator") {
        unitDiv.style.display = "none";
        return;
      }

      if (units[role]) {
        units[role].forEach(u => {
          let opt = document.createElement("option");
          opt.value = u;
          opt.textContent = u;
          unitSelect.appendChild(opt);
        });
        unitDiv.style.display = "block";
      } else {
        unitDiv.style.display = "none";
      }
    }
  </script>
</body>
</html>
