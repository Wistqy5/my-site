<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú–æ–π SCP-–ê—Ä—Ö–∏–≤</title>
  <style>
    /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0 1rem;
      transition: background .3s, color .3s;
    }
    [data-theme="light"] {
      background: #f5f5f5;
      color: #222;
    }
    [data-theme="dark"] {
      background: #222;
      color: #f5f5f5;
    }
    .hidden { display: none; }
    button { margin: .25rem; padding: .5rem 1rem; }
    #scp-modal {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,.6);
      display: flex; align-items: center; justify-content: center;
    }
    #scp-modal .box {
      background: white; color: black;
      padding: 1rem; border-radius: 4px;
      max-width: 400px; width: 90%;
      position: relative;
    }
    #scp-modal .close {
      position: absolute; top: .5rem; right: .5rem;
      cursor: pointer; font-size: 1.2rem;
    }
    [data-theme="dark"] #scp-modal .box {
      background: #333; color: #eee;
    }
    #theme-toggle {
      position: fixed; top: 1rem; right: 1rem;
    }
  </style>
</head>
<body data-theme="light">

  <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
  <button id="theme-toggle">üåô / ‚òÄÔ∏è</button>

  <!-- –ë–ª–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
  <div id="auth" class="hidden"></div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∞—Ä—Ö–∏–≤ -->
  <div id="archive" class="hidden">
    <h1>–°–ø–∏—Å–æ–∫ SCP</h1>
    <div id="scp-list"></div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π SCP -->
  <div id="scp-modal" class="hidden">
    <div class="box">
      <span class="close">√ó</span>
      <h2 class="title"></h2>
      <p class="description"></p>
    </div>
  </div>

  <!-- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π JS -->
  <script>
  ;(function() {
    const IDS = {
      auth: 'auth',
      archive: 'archive',
      list: 'scp-list',
      modal: 'scp-modal',
      themeToggle: 'theme-toggle'
    };
    let currentUser = null;

    /* –£—Ç–∏–ª–∏—Ç—ã */
    function $(id) { return document.getElementById(id); }
    function show(el) { el && el.classList.remove('hidden'); }
    function hide(el) { el && el.classList.add('hidden'); }

    /* –¢–µ–º–∞ */
    function setTheme(t) {
      document.body.dataset.theme = t;
      localStorage.setItem('theme', t);
    }
    function loadTheme() {
      setTheme(localStorage.getItem('theme') || 'light');
    }
    function initThemeToggle() {
      const btn = $(IDS.themeToggle);
      btn.addEventListener('click', () => {
        setTheme(document.body.dataset.theme === 'light' ? 'dark' : 'light');
      });
    }

    /* –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è */
    function authenticate(u, p) {
      // –ü—Ä–∏–º–µ—Ä ¬´—Ñ—ç–π–∫–æ–≤–æ–≥–æ¬ª –ª–æ–≥–∏–Ω–∞
      return u === 'admin' && p === 'password'
        ? { name:'Admin', level:5 }
        : null;
    }
    function handleLogin(e) {
      e.preventDefault();
      const f = e.target;
      const user = authenticate(f.username.value.trim(), f.password.value);
      if (user) {
        currentUser = user;
        renderUI();
      } else {
        alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å');
      }
    }
    function createLoginForm() {
      const f = document.createElement('form');
      f.innerHTML = `
        <label>–õ–æ–≥–∏–Ω: <input name="username" required></label><br>
        <label>–ü–∞—Ä–æ–ª—å: <input type="password" name="password" required></label><br>
        <button>–í–æ–π—Ç–∏</button>
      `;
      f.addEventListener('submit', handleLogin);
      return f;
    }

    /* –î–∞–Ω–Ω—ã–µ SCP */
    function loadSCPList() {
      return [
        {id:1, title:'SCP-001', level:1, desc:'–û–ø–∏—Å–∞–Ω–∏–µ SCP-001'},
        {id:2, title:'SCP-173', level:2, desc:'–û–ø–∏—Å–∞–Ω–∏–µ SCP-173'},
        {id:3, title:'SCP-682', level:5, desc:'–û–ø–∏—Å–∞–Ω–∏–µ SCP-682'},
        {id:4, title:'SCP-999', level:1, desc:'–û–ø–∏—Å–∞–Ω–∏–µ SCP-999'}
      ];
    }
    function renderSCPList() {
      const container = $(IDS.list);
      container.innerHTML = '';
      loadSCPList().forEach(item => {
        const btn = document.createElement('button');
        btn.textContent = item.title;
        btn.disabled = currentUser.level < item.level;
        btn.onclick = () => showSCP(item);
        container.appendChild(btn);
      });
    }

    /* –ú–æ–¥–∞–ª–∫–∞ */
    function showSCP(item) {
      const m = $(IDS.modal);
      m.querySelector('.title').textContent = item.title;
      m.querySelector('.description').textContent = item.desc;
      show(m);
    }
    function initModal() {
      const m = $(IDS.modal);
      m.querySelector('.close').onclick = () => hide(m);
    }

    /* –û—Ç—Ä–∏—Å–æ–≤–∫–∞ UI */
    function renderUI() {
      const auth = $(IDS.auth);
      const arch = $(IDS.archive);

      if (!currentUser) {
        hide(arch);
        auth.innerHTML = '';
        auth.appendChild(createLoginForm());
        show(auth);
      } else {
        hide(auth);
        show(arch);
        renderSCPList();
      }
    }

    /* –°—Ç–∞—Ä—Ç */
    document.addEventListener('DOMContentLoaded', () => {
      loadTheme();
      initThemeToggle();
      initModal();
      renderUI();
    });
  })();
  </script>

</body>
</html>
