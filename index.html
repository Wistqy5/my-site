<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SCP Foundation</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      transition: background-color 0.4s, color 0.4s;
    }
    body.light { background-color: #fff; color: #000; }
    body.dark { background-color: #0d0d0d; color: #f5f5f5; }
    #theme-toggle, #level-select {
      position: fixed;
      top: 15px;
      right: 15px;
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: linear-gradient(135deg, #444, #222);
      color: white;
      font-size: 14px;
      z-index: 1000;
      margin-left: 10px;
    }
    main { padding: 60px 20px; max-width: 800px; margin: auto; }
    .scp-card {
      background-color: rgba(255,255,255,0.05);
      border: 1px solid #888;
      padding: 20px;
      margin: 30px 0;
      border-radius: 8px;
      transition: transform 0.3s, background-color 0.3s;
    }
    .scp-card:hover { transform: scale(1.02); background-color: rgba(255,255,255,0.1); }
    .access-btn, #create-btn {
      margin-top: 10px;
      padding: 8px 12px;
      background-color: #222;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .access-btn:hover, #create-btn:hover { background-color: #444; }
    #create-form {
      margin-top: 40px;
      padding: 20px;
      border: 1px dashed #666;
      border-radius: 8px;
    }
    input, textarea {
      width: 100%;
      margin: 10px 0;
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #aaa;
    }
  </style>
</head>
<body>
  <button id="theme-toggle">üåô Dark Mode</button>
  <select id="level-select">
    <option value="1">–£—Ä–æ–≤–µ–Ω—å 1</option>
    <option value="2">–£—Ä–æ–≤–µ–Ω—å 2</option>
    <option value="3">–£—Ä–æ–≤–µ–Ω—å 3</option>
    <option value="4">–£—Ä–æ–≤–µ–Ω—å 4</option>
    <option value="5">–£—Ä–æ–≤–µ–Ω—å 5</option>
  </select>
  <main>
    <h1>SCP Foundation</h1>
    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∞—Ä—Ö–∏–≤</h2>
    <div id="scp-container"></div>

    <div id="create-form">
      <h3>–°–æ–∑–¥–∞—Ç—å SCP-–∫–∞—Ä—Ç–æ—á–∫—É</h3>
      <input type="text" id="new-id" placeholder="SCP ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, SCP-999)" />
      <input type="number" id="new-level" placeholder="–¢—Ä–µ–±—É–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ (1‚Äì5)" />
      <input type="text" id="new-class" placeholder="–ö–ª–∞—Å—Å –æ–±—ä–µ–∫—Ç–∞" />
      <textarea id="new-desc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞"></textarea>
      <button id="create-btn">–°–æ–∑–¥–∞—Ç—å</button>
    </div>
  </main>

  <script>
    const body = document.body;
    const toggleBtn = document.getElementById('theme-toggle');
    const levelSelect = document.getElementById('level-select');
    const container = document.getElementById('scp-container');
    const createBtn = document.getElementById('create-btn');

    body.classList.add('light');
    toggleBtn.addEventListener('click', () => {
      body.classList.toggle('dark');
      body.classList.toggle('light');
      toggleBtn.textContent = body.classList.contains('dark') ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
    });

    levelSelect.addEventListener('change', () => {
      localStorage.setItem('accessLevel', levelSelect.value);
      renderCards();
    });

    const defaultSCPs = [
      { id: "SCP-173", level: 2, class: "–ï–≤–∫–ª–∏–¥", description: "–°—Ç–∞—Ç—É—è, —Å–ø–æ—Å–æ–±–Ω–∞—è –¥–≤–∏–≥–∞—Ç—å—Å—è, –∫–æ–≥–¥–∞ –µ—ë –Ω–µ –≤–∏–¥—è—Ç." },
      { id: "SCP-096", level: 4, class: "–ï–≤–∫–ª–∏–¥", description: "–°—É—â–µ—Å—Ç–≤–æ, –≤–ø–∞–¥–∞—é—â–µ–µ –≤ —è—Ä–æ—Å—Ç—å –ø—Ä–∏ –≤–∑–≥–ª—è–¥–µ –Ω–∞ –ª–∏—Ü–æ." },
      { id: "SCP-682", level: 5, class: "–ö–µ—Ç–µ—Ä", description: "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ—É–Ω–∏—á—Ç–æ–∂–∞–µ–º–æ–µ —Å—É—â–µ—Å—Ç–≤–æ." }
    ];

    function getAllSCPs() {
      const saved = JSON.parse(localStorage.getItem("customSCPs") || "[]");
      return [...defaultSCPs, ...saved];
    }

    function renderCards() {
      const accessLevel = parseInt(localStorage.getItem("accessLevel") || "1");
      levelSelect.value = accessLevel;
      container.innerHTML = "";

      getAllSCPs().forEach(obj => {
        const card = document.createElement("section");
        card.className = "scp-card";
        card.innerHTML = `
          <h2>${obj.id}</h2>
          <p><strong>–ö–ª–∞—Å—Å:</strong> ${obj.class}</p>
          <p><strong>–¢—Ä–µ–±—É–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å:</strong> ${obj.level}</p>
          <button class="access-btn">–û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª</button>
        `;
        card.querySelector(".access-btn").addEventListener("click", () => {
          if (accessLevel >= obj.level) {
            alert(`üìÇ –î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à—ë–Ω:\n\n${obj.description}`);
          } else {
            alert("‚õî Access Denied: –£—Ä–æ–≤–µ–Ω—å –¥–æ–ø—É—Å–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω.");
          }
        });
        container.appendChild(card);
      });
    }

    createBtn.addEventListener("click", () => {
      const accessLevel = parseInt(localStorage.getItem("accessLevel") || "1");
      if (accessLevel < 3) return alert("‚õî –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫.");

      const id = document.getElementById("new-id").value.trim();
      const level = parseInt(document.getElementById("new-level").value);
      const cls = document.getElementById("new-class").value.trim();
      const desc = document.getElementById("new-desc").value.trim();

      if (!id || !cls || !desc || isNaN(level)) return alert("‚ö†Ô∏è –ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.");

      const newCard = { id, level, class: cls, description: desc };
      const saved = JSON.parse(localStorage.getItem("customSCPs") || "[]");
      saved.push(newCard);
      localStorage.setItem("customSCPs", JSON.stringify(saved));
      renderCards();
    });

    renderCards();
  </script>
</body>
</html>
