<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>SCP Foundation</title>
    <style>
        body {
            font-family: Arial;
            background: #111;
            color: #eee;
            padding: 20px;
        }
        input, select, button, textarea {
            margin: 10px 0;
            padding: 8px;
            width: 100%;
            border-radius: 4px;
            border: none;
        }
        .hidden {
            display: none;
        }
        .scp-link {
            display: block;
            margin: 8px 0;
            color: #0ff;
            text-decoration: none;
        }
        .scp-link:hover {
            text-decoration: underline;
        }
        #profile {
            margin: 20px 0;
            padding: 10px;
            background: #222;
            border-radius: 6px;
        }
        #admin-panel {
            background: #333;
            padding: 10px;
            border-radius: 6px;
            margin-top: 20px;
        }
        #scp-modal {
            position: fixed;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            background: #222;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 600px;
            display: none;
            z-index: 1000;
        }
        #scp-modal h2 {
            margin-top: 0;
        }
        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            z-index: 999;
        }
    </style>
</head>
<body>
    <h1>SCP Foundation Archive</h1>

    <!-- –§–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div id="auth">
        <h2>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
        <input type="text" id="login-name" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" />
        <input type="password" id="login-pass" placeholder="–ü–∞—Ä–æ–ª—å" />
        <button onclick="login()">–í–æ–π—Ç–∏</button>
        <button onclick="showRegisterForm()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
    </div>

    <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="register" class="hidden">
        <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
        <input type="text" id="register-name" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" />
        <input type="password" id="register-pass" placeholder="–ü–∞—Ä–æ–ª—å" />
        <input type="password" id="register-pass-confirm" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è" />
        <button onclick="register()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        <button onclick="hideRegisterForm()">–ù–∞–∑–∞–¥</button>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div id="main" class="hidden">
        <div id="profile"></div>
        <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫ SCP..." oninput="renderSCPList()" />
        <h2>–ê—Ä—Ö–∏–≤ SCP</h2>
        <div id="scp-list"></div>
        <div id="create-form">
            <h3>–°–æ–∑–¥–∞—Ç—å SCP</h3>
            <input type="text" id="new-id" placeholder="SCP ID" />
            <input type="number" id="new-level" placeholder="–£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ (1‚Äì5)" />
            <input type="text" id="new-class" placeholder="–ö–ª–∞—Å—Å –æ–±—ä–µ–∫—Ç–∞" />
            <textarea id="new-desc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"></textarea>
            <button onclick="createSCP()">–°–æ–∑–¥–∞—Ç—å</button>
        </div>
        <div id="admin-panel" class="hidden">
            <h3>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
            <input type="text" id="target-user" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≤—ã–¥–∞—á–∏ —Ä–æ–ª–∏" />
            <select id="target-role">
                <option value="–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å">–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å</option>
                <option value="–û5">–û5</option>
            </select>
            <button onclick="assignRole()">–í—ã–¥–∞—Ç—å —Ä–æ–ª—å</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="overlay" onclick="closeModal()"></div>
    <div id="scp-modal"></div>

    <script>
        const users = [
            { username: "admin", password: "1234", role: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä", level: 5 },
            { username: "bright", password: "scp", role: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å", level: 3 }
        ];
        let currentUser = null;
        let scpData = [
            { id: "SCP-096", level: 4, class: "–ï–≤–∫–ª–∏–¥", description: "–°—É—â–µ—Å—Ç–≤–æ, –≤–ø–∞–¥–∞—é—â–µ–µ –≤ —è—Ä–æ—Å—Ç—å –ø—Ä–∏ –≤–∑–≥–ª—è–¥–µ –Ω–∞ –ª–∏—Ü–æ." },
            { id: "SCP-173", level: 2, class: "–ï–≤–∫–ª–∏–¥", description: "–°—Ç–∞—Ç—É—è, —Å–ø–æ—Å–æ–±–Ω–∞—è –¥–≤–∏–≥–∞—Ç—å—Å—è, –∫–æ–≥–¥–∞ –µ—ë –Ω–µ –≤–∏–¥—è—Ç." },
            { id: "SCP-682", level: 5, class: "–ö–µ—Ç–µ—Ä", description: "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ—É–Ω–∏—á—Ç–æ–∂–∞–µ–º–æ–µ —Å—É—â–µ—Å—Ç–≤–æ." }
        ];

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        function login() {
            const name = document.getElementById("login-name").value.trim();
            const pass = document.getElementById("login-pass").value.trim();
            const user = users.find(u => u.username === name && u.password === pass);
            if (!user) return alert("–ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ");
            currentUser = user;
            document.getElementById("auth").classList.add("hidden");
            document.getElementById("main").classList.remove("hidden");
            document.getElementById("profile").innerHTML = `<strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> ${user.username} | –£—Ä–æ–≤–µ–Ω—å: ${user.level} | –†–æ–ª—å: ${user.role}`;
            if (user.role === "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä") document.getElementById("admin-panel").classList.remove("hidden");
            renderSCPList();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Ñ–æ—Ä–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        function showRegisterForm() {
            document.getElementById("auth").classList.add("hidden");
            document.getElementById("register").classList.remove("hidden");
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è —Ñ–æ—Ä–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        function hideRegisterForm() {
            document.getElementById("register").classList.add("hidden");
            document.getElementById("auth").classList.remove("hidden");
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        function register() {
            const username = document.getElementById("register-name").value.trim();
            const password = document.getElementById("register-pass").value.trim();
            const passwordConfirm = document.getElementById("register-pass-confirm").value.trim();

            if (!username || !password || password !== passwordConfirm) {
                return alert("‚ö†Ô∏è –ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è –∏ —É–±–µ–¥–∏—Å—å, —á—Ç–æ –ø–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç.");
            }

            if (users.some(u => u.username === username)) {
                return alert("–≠—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.");
            }

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–ø–∏—Å–æ–∫
            users.push({ username, password, role: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å", level: 1 });
            alert("‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!");
            hideRegisterForm();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ SCP
        function renderSCPList() {
            const query = document.getElementById("search").value.toLowerCase();
            const list = document.getElementById("scp-list");
            list.innerHTML = "";
            scpData.filter(scp => scp.id.toLowerCase().includes(query)).forEach(scp => {
                const link = document.createElement("a");
                link.className = "scp-link";
                link.href = "#";
                link.textContent = scp.id;
                link.onclick = () => openSCP(scp);
                list.appendChild(link);
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è SCP
        function openSCP(scp) {
            if (currentUser.level < scp.level) {
                alert("‚õî Access Denied: –£—Ä–æ–≤–µ–Ω—å –¥–æ–ø—É—Å–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω.");
                return;
            }
            const modal = document.getElementById("scp-modal");
            modal.innerHTML = `<h2>${scp.id}</h2><p><strong>–ö–ª–∞—Å—Å:</strong> ${scp.class}</p><p>${scp.description}</p><button onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>`;
            document.getElementById("overlay").style.display = "block";
            modal.style.display = "block";
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function closeModal() {
            document.getElementById("overlay").style.display = "none";
            document.getElementById("scp-modal").style.display = "none";
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ SCP
       <script>
  function assignRole() {
    if (!currentUser || currentUser.role !== "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä") {
      return alert("‚õî –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å —Ä–æ–ª–∏.");
    }

    const targetName = document.getElementById("target-user").value.trim();
    const targetRole = document.getElementById("target-role").value;

    const targetUser = users.find(u => u.username === targetName);
    if (!targetUser) return alert("üö´ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω.");

    // –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º —Ä–æ–ª—å
    targetUser.role = targetRole;

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º —É—Ä–æ–≤–µ–Ω—å
    if (targetRole === "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å") {
      targetUser.level = 2;
    } else if (targetRole === "–û5") {
      targetUser.level = 5;
    }

    saveUsers();
    alert(`‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ${targetUser.username} –≤—ã–¥–∞–Ω–∞ —Ä–æ–ª—å: ${targetUser.role} (—É—Ä–æ–≤–µ–Ω—å ${targetUser.level})`);

    // –û–±–Ω–æ–≤–∏–º –ø—Ä–æ—Ñ–∏–ª—å, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ —Å–∞–º–∏ —Å–µ–±–µ
    if (currentUser.username === targetUser.username) {
      document.getElementById("profile").innerHTML =
        `<strong>–ü—Ä–æ—Ñ–∏–ª—å:</strong> ${currentUser.username} | –£—Ä–æ–≤–µ–Ω—å: ${currentUser.level} | –†–æ–ª—å: ${currentUser.role}`;
    }
  }
</script>
